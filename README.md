# üíñ Sistema de Gerenciamento de Produtos Favoritos

Bem-vindo ao sistema de gerenciamento de produtos favoritos! Este projeto √© uma plataforma para organizar e gerenciar seus produtos preferidos, permitindo a cria√ß√£o de categorias, o registro de produtos com detalhes e a associa√ß√£o a usu√°rios.

## ‚ú® Funcionalidades

*   **Gerenciamento de Usu√°rios:** Crie, visualize, atualize e exclua usu√°rios.
*   **Gerenciamento de Categorias:** Crie, visualize, atualize e exclua categorias para organizar seus produtos.
*   **Gerenciamento de Produtos:** Adicione, visualize, atualize e exclua produtos, associando-os a usu√°rios e categorias.
*   **API RESTful:** Endpoints para integra√ß√£o com outras aplica√ß√µes.
*   **Documenta√ß√£o Swagger/OpenAPI:** Interface interativa para explorar e testar a API.
*   **Interface Web (Thymeleaf):** P√°ginas HTML para gerenciamento via navegador.
*   **Valida√ß√£o de Dados:** Garante a integridade dos dados.
*   **Migra√ß√µes de Banco de Dados:** Utiliza Flyway para gerenciar o esquema do banco de dados.

## üèóÔ∏è Arquitetura

O projeto segue uma arquitetura em camadas, promovendo a separa√ß√£o de responsabilidades e a manutenibilidade:

*   **Controller:** Camada de apresenta√ß√£o, respons√°vel por receber requisi√ß√µes HTTP e retornar respostas. Inclui `RestController` para a API e controladores para a interface web.
*   **Service:** Camada de l√≥gica de neg√≥cio, onde as regras de neg√≥cio s√£o implementadas e as opera√ß√µes de servi√ßo s√£o coordenadas.
*   **Repository:** Camada de acesso a dados, respons√°vel pela intera√ß√£o direta com o banco de dados via Spring Data JPA.
*   **Entity:** Representa as entidades do banco de dados, mapeadas para tabelas no esquema.
*   **DTO (Data Transfer Object):** Objetos de transfer√™ncia de dados, utilizados para trafegar dados entre as camadas, protegendo as entidades e otimizando a comunica√ß√£o.
*   **Mapper:** Respons√°vel pela convers√£o entre entidades e DTOs, utilizando MapStruct para facilitar esse processo.

## üõ†Ô∏è Tecnologias Utilizadas

### Backend
*   **Java 21** ‚òï: Linguagem de programa√ß√£o principal.
*   **Spring Boot 3.2.0** üçÉ: Framework robusto para o desenvolvimento r√°pido de aplica√ß√µes Spring.
*   **Spring Data JPA** üíæ: Simplifica o acesso a dados e a implementa√ß√£o de reposit√≥rios baseados em JPA.
*   **Spring Web** üåê: Suporte para desenvolvimento de aplica√ß√µes web, incluindo APIs RESTful e aplica√ß√µes baseadas em MVC.
*   **Spring Boot Validation** ‚úÖ: Facilita a valida√ß√£o de dados usando anota√ß√µes JSR 303 (Bean Validation).

### Documenta√ß√£o
*   **SpringDoc OpenAPI 3** üìö: Gera√ß√£o autom√°tica de documenta√ß√£o da API com interface Swagger UI.

### Banco de Dados
*   **MySQL 8.0** üíß: Sistema de gerenciamento de banco de dados relacional.
*   **Flyway** ‚úàÔ∏è: Ferramenta de migra√ß√£o de banco de dados, gerencia e aplica scripts SQL de forma versionada.

### Mapeamento
*   **MapStruct** üó∫Ô∏è: Gerador de c√≥digo que simplifica a implementa√ß√£o de mappers entre JavaBeans, evitando mapeamentos manuais e repetitivos.

### Frontend (Web)
*   **Thymeleaf** üåø: Motor de template server-side para renderiza√ß√£o de p√°ginas HTML din√¢micas.
*   **HTML, CSS, JavaScript** üíª: Tecnologias fundamentais para a constru√ß√£o da interface de usu√°rio.

### Ferramentas de Constru√ß√£o e Containeriza√ß√£o
*   **Apache Maven** ‚öôÔ∏è: Ferramenta de automa√ß√£o de constru√ß√£o e gerenciamento de projetos Java.
*   **Docker & Docker Compose** üê≥: Plataforma para desenvolver, enviar e executar aplica√ß√µes em cont√™ineres, facilitando a configura√ß√£o do ambiente de banco de dados.

## üöÄ Instala√ß√£o e Execu√ß√£o

Siga os passos abaixo para configurar e rodar o projeto em sua m√°quina local.

### Pr√©-requisitos

Certifique-se de ter os seguintes softwares instalados:

*   **Java Development Kit (JDK) 21** ou superior
*   **Apache Maven**
*   **Docker Desktop** (para rodar o MySQL facilmente) üê≥

### 1. Clonar o Reposit√≥rio

```bash
git clone <URL_DO_SEU_REPOSITORIO>
cd PROJETO\ NADIC
```

### 2. Configurar o Banco de Dados com Docker

**‚ö†Ô∏è IMPORTANTE:** Certifique-se de que o Docker Desktop esteja rodando antes de continuar.

No diret√≥rio raiz do projeto (onde est√° o `docker-compose.yml`), execute:

```bash
docker-compose up -d
```

Este comando ir√° iniciar um cont√™iner MySQL na porta `3306`. As credenciais s√£o:
*   **Usu√°rio:** `root`
*   **Senha:** `admin`
*   **Banco de Dados:** `favorite_products`

### 3. Compilar e Rodar a Aplica√ß√£o

No diret√≥rio raiz do projeto, compile e execute a aplica√ß√£o Spring Boot:

```bash
mvn clean compile
mvn spring-boot:run
```

A aplica√ß√£o ser√° iniciada na porta `8080`.

### 4. Verificar se a aplica√ß√£o est√° rodando

Acesse: [http://localhost:8080/api](http://localhost:8080/api)

Voc√™ deve ver uma resposta JSON similar a:
```json
{
  "message": "Bem-vindo √† API de Produtos Favoritos!",
  "version": "1.0.0",
  "documentation": "/swagger-ui.html",
  "resources": "/api/categories, /api/products, /api/users"
}
```

## üìö Documenta√ß√£o da API

### Swagger UI (Recomendado)

A documenta√ß√£o interativa da API est√° dispon√≠vel em:
**[http://localhost:8080/swagger-ui.html](http://localhost:8080/swagger-ui.html)**

A interface do Swagger permite:
- Visualizar todos os endpoints dispon√≠veis
- Testar requisi√ß√µes diretamente no navegador
- Ver exemplos de request/response
- Explorar os modelos de dados (DTOs)

### Endpoints da API (JSON)

A especifica√ß√£o OpenAPI em formato JSON est√° dispon√≠vel em:
**[http://localhost:8080/v3/api-docs](http://localhost:8080/v3/api-docs)**

## üìã Principais Endpoints da API

A API REST est√° dispon√≠vel no prefixo `/api`. Todos os endpoints retornam dados em formato JSON.

### üè† Informa√ß√µes da API
- **`GET /api`** - Informa√ß√µes b√°sicas sobre a API

### üë• Usu√°rios (`/api/users`)
- **`GET /api/users`** - Lista todos os usu√°rios
- **`GET /api/users/{id}`** - Busca usu√°rio por ID
- **`GET /api/users/email/{email}`** - Busca usu√°rio por email
- **`POST /api/users`** - Cria novo usu√°rio
- **`PUT /api/users/{id}`** - Atualiza usu√°rio
- **`DELETE /api/users/{id}`** - Deleta usu√°rio

### üìÇ Categorias (`/api/categories`)
- **`GET /api/categories`** - Lista todas as categorias
- **`GET /api/categories/{id}`** - Busca categoria por ID
- **`GET /api/categories/name/{name}`** - Busca categoria por nome
- **`GET /api/categories/search?name={name}`** - Pesquisa categorias
- **`POST /api/categories`** - Cria nova categoria
- **`PUT /api/categories/{id}`** - Atualiza categoria
- **`DELETE /api/categories/{id}`** - Deleta categoria

### üõçÔ∏è Produtos (`/api/products`)
- **`GET /api/products`** - Lista todos os produtos
- **`GET /api/products/{id}`** - Busca produto por ID
- **`GET /api/products/user/{userId}`** - Lista produtos de um usu√°rio
- **`GET /api/products/category/{categoryId}`** - Lista produtos de uma categoria
- **`GET /api/products/search?name={name}`** - Pesquisa produtos
- **`POST /api/products`** - Cria novo produto
- **`PUT /api/products/{id}`** - Atualiza produto
- **`DELETE /api/products/{id}`** - Deleta produto

## üß™ Testando a API

### Arquivo de Teste HTTP

O projeto inclui o arquivo `test-endpoints-api.http` com exemplos de requisi√ß√µes para todos os endpoints. Use este arquivo com:
- **IntelliJ IDEA** (suporte nativo)
- **Visual Studio Code** (extens√£o REST Client)
- **Insomnia** ou **Postman** (importa√ß√£o)

### Exemplos de Uso

```bash
# Informa√ß√µes da API
curl http://localhost:8080/api

# Listar usu√°rios
curl http://localhost:8080/api/users

# Criar nova categoria
curl -X POST -H "Content-Type: application/json" \
  -d '{"name":"Eletr√¥nicos","description":"Produtos eletr√¥nicos"}' \
  http://localhost:8080/api/categories

# Criar novo usu√°rio
curl -X POST -H "Content-Type: application/json" \
  -d '{"name":"Jo√£o Silva","email":"joao@email.com"}' \
  http://localhost:8080/api/users

# Criar novo produto
curl -X POST -H "Content-Type: application/json" \
  -d '{"name":"Smartphone","description":"Smartphone Android","price":999.99,"userId":1,"categoryId":1}' \
  http://localhost:8080/api/products
```

## üñ•Ô∏è Interface Web

### Dashboard Principal

Acesse: [http://localhost:8080/](http://localhost:8080/)

A interface web oferece:
- Dashboard com estat√≠sticas
- P√°ginas para gerenciar usu√°rios, categorias e produtos
- Formul√°rios para criar/editar registros
- Listagens com filtros e busca

## üîß Troubleshooting

### Problema: Erro 500 "Erro inesperado"

**Causa:** Geralmente indica que o banco de dados n√£o est√° dispon√≠vel.

**Solu√ß√£o:**
1. Verifique se o Docker Desktop est√° rodando
2. Execute `docker-compose up -d` para iniciar o MySQL
3. Aguarde alguns segundos para o banco inicializar
4. Reinicie a aplica√ß√£o com `mvn spring-boot:run`

### Problema: "error during connect" no Docker

**Causa:** Docker Desktop n√£o est√° iniciado.

**Solu√ß√£o:**
1. Abra o Docker Desktop
2. Aguarde at√© aparecer "Docker Desktop is running" na bandeja do sistema
3. Execute `docker-compose up -d`

### Problema: Aplica√ß√£o n√£o conecta ao banco

**Solu√ß√£o:**
1. Verifique se o MySQL est√° rodando: `docker ps`
2. Teste a conex√£o: `docker exec -it <container_id> mysql -u root -p`
3. Verifique as configura√ß√µes em `application.properties`

### Problema: Porta 8080 j√° est√° em uso

**Solu√ß√£o:**
1. Pare outros servi√ßos na porta 8080
2. Ou altere a porta em `application.properties`:
   ```properties
   server.port=8081
   ```

## üîÑ Migra√ß√µes do Banco de Dados

O projeto utiliza **Flyway** para controle de vers√£o do banco de dados. As migra√ß√µes est√£o em:
```
src/main/resources/db/migration/
‚îú‚îÄ‚îÄ V1__Create_users_table.sql
‚îú‚îÄ‚îÄ V2__Create_categories_table.sql
‚îî‚îÄ‚îÄ V3__Create_products_table.sql
```

As migra√ß√µes s√£o executadas automaticamente quando a aplica√ß√£o inicia.

## üìÅ Estrutura do Projeto

```
src/
‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îú‚îÄ‚îÄ java/com/example/favoriteproducts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/          # Configura√ß√µes (Swagger, Web)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controller/      # Controladores REST e Web
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dto/             # Data Transfer Objects
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entity/          # Entidades JPA
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exception/       # Tratamento de exce√ß√µes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mapper/          # Mappers MapStruct
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repository/      # Reposit√≥rios Spring Data
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ service/         # Servi√ßos de neg√≥cio
‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ       ‚îú‚îÄ‚îÄ db/migration/    # Scripts Flyway
‚îÇ       ‚îú‚îÄ‚îÄ static/          # Arquivos est√°ticos (CSS, JS)
‚îÇ       ‚îú‚îÄ‚îÄ templates/       # Templates Thymeleaf
‚îÇ       ‚îî‚îÄ‚îÄ application.properties
‚îú‚îÄ‚îÄ docker-compose.yml       # Configura√ß√£o do MySQL
‚îú‚îÄ‚îÄ test-endpoints-api.http  # Arquivo de teste da API
‚îî‚îÄ‚îÄ README.md
```

## üöÄ Pr√≥ximos Passos

- [ ] Implementar autentica√ß√£o e autoriza√ß√£o
- [ ] Adicionar testes unit√°rios e de integra√ß√£o
- [ ] Implementar pagina√ß√£o nos endpoints
- [ ] Adicionar filtros avan√ßados
- [ ] Criar API para upload de imagens de produtos
- [ ] Implementar cache com Redis
- [ ] Documentar mais endpoints no Swagger

## üìù Contribui√ß√£o

1. Fa√ßa um fork do projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo `LICENSE` para mais detalhes.

---

**Sistema desenvolvido para o projeto NADIC** üíô